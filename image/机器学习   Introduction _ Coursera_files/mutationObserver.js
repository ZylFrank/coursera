define("js/vendor/mutationObserver.v0.3.1.amd",["require"],function(require){window.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||function(t){"use strict";function MutationObserver(t){this._watched=[],this._listener=t}function startMutationChecker(t){!function check(){var e=t.takeRecords();if(e.length)t._listener(e,t);t._timeout=setTimeout(check,MutationObserver._period)}()}function MutationRecord(i){var r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var e in i)if(has(r,e)&&i[e]!==t)r[e]=i[e];return r}function createMutationSearcher(e,t){var i=clone(e,t);return function(r){var a=r.length,n;if(t.attr&&i.attr)findAttributeMutations(r,e,i.attr,t.afilter);if(t.kids||t.descendents)n=searchSubtree(r,e,i,t);if(n||r.length!==a)i=clone(e,t)}}function findAttributeMutations(n,r,e,a){for(var u={},o=r.attributes,i,t,s=o.length;s--;)if(i=o[s],t=i.name,!a||has(a,t)){if(i.value!==e[t])n.push(MutationRecord({type:"attributes",target:r,attributeName:t,oldValue:e[t],attributeNamespace:i.namespaceURI}));u[t]=!0}for(t in e)if(!u[t])n.push(MutationRecord({target:r,type:"attributes",attributeName:t,oldValue:e[t]}))}function searchSubtree(i,n,a,e){function resolveConflicts(a,s,d,l,f){for(var u=a.length-1,o=-~((u-f)/2),t,r,n;n=a.pop();){if(t=d[n.i],r=l[n.j],e.kids&&o&&Math.abs(n.i-n.j)>=u)i.push(MutationRecord({type:"childList",target:s,addedNodes:[t],removedNodes:[t],nextSibling:t.nextSibling,previousSibling:t.previousSibling})),o--;if(e.attr&&r.attr)findAttributeMutations(i,t,r.attr,e.afilter);if(e.charData&&3===t.nodeType&&t.nodeValue!==r.charData)i.push(MutationRecord({type:"characterData",target:t}));if(e.descendents)findMutations(t,r)}}function findMutations(v,g){for(var f=v.childNodes,o=g.kids,y=f.length,m=o?o.length:0,c,d,b,h,a,n,l,p=0,s=0,u=0;y>s||m>u;)if(n=f[s],a=o[u],l=a&&a.node,n===l){if(e.attr&&a.attr)findAttributeMutations(i,n,a.attr,e.afilter);if(e.charData&&a.charData!==t&&n.nodeValue!==a.charData)i.push(MutationRecord({type:"characterData",target:n}));if(d)resolveConflicts(d,v,f,o,p);if(e.descendents&&(n.childNodes.length||a.kids&&a.kids.length))findMutations(n,a);s++,u++}else{if(r=!0,!c)c={},d=[];if(n){if(!c[b=getElementId(n)])if(c[b]=!0,-1===(h=indexOfCustomNode(o,n,u))){if(e.kids)i.push(MutationRecord({type:"childList",target:v,addedNodes:[n],nextSibling:n.nextSibling,previousSibling:n.previousSibling})),p++}else d.push({i:s,j:h});s++}if(l&&l!==f[s]){if(!c[b=getElementId(l)])if(c[b]=!0,-1===(h=indexOf(f,l,s))){if(e.kids)i.push(MutationRecord({type:"childList",target:g.node,removedNodes:[l],nextSibling:o[u+1],previousSibling:o[u-1]})),p--}else d.push({i:h,j:u});u++}}if(d)resolveConflicts(d,v,f,o,p)}var r;return findMutations(n,a),r}function clone(i,t){var e=!0;return function copy(i){var r={node:i};if(t.charData&&(3===i.nodeType||8===i.nodeType))r.charData=i.nodeValue;else{if(t.attr&&e&&1===i.nodeType)r.attr=reduce(i.attributes,function(i,e){if(!t.afilter||t.afilter[e.name])i[e.name]=e.value;return i},{});if(e&&(t.kids||t.charData||t.attr&&t.descendents))r.kids=map(i.childNodes,copy);e=t.descendents}return r}(i)}function indexOfCustomNode(t,e,i){return indexOf(t,e,i,JSCompiler_renameProperty("node"))}function getElementId(t){try{return t.id||(t[i]=t[i]||e++)}catch(r){try{return t.nodeValue}catch(n){return e++}}}function map(e,r){for(var i=[],t=0;t<e.length;t++)i[t]=r(e[t],t,e);return i}function reduce(e,r,i){for(var t=0;t<e.length;t++)i=r(i,e[t],t,e);return i}function indexOf(e,r,t,i){for(;t<e.length;t++)if((i?e[t][i]:e[t])===r)return t;return-1}function has(e,i){return e[i]!==t}function JSCompiler_renameProperty(t){return t}MutationObserver._period=30,MutationObserver.prototype={observe:function(r,t){for(var n={attr:!!(t.attributes||t.attributeFilter||t.attributeOldValue),kids:!!t.childList,descendents:!!t.subtree,charData:!(!t.characterData&&!t.characterDataOldValue)},e=this._watched,i=0;i<e.length;i++)if(e[i].tar===r)e.splice(i,1);if(t.attributeFilter)n.afilter=reduce(t.attributeFilter,function(t,e){return t[e]=!0,t},{});if(e.push({tar:r,fn:createMutationSearcher(r,n)}),!this._timeout)startMutationChecker(this)},takeRecords:function(){for(var e=[],i=this._watched,t=0;t<i.length;t++)i[t].fn(e);return e},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var e=1,i="mo_id";return MutationObserver}(void 0)});